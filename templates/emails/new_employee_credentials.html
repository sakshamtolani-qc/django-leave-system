{% extends 'emails/base_email.html' %}

{% block title %}Your Account Credentials - {{ company_name }}{% endblock %}

{% block header_subtitle %}Login Information{% endblock %}

{% block content %}
<h2>Welcome to {{ company_name }}!</h2>

<p>Dear {{ user.first_name|default:user.username }},</p>

<p>Your employee account has been successfully created. Below are your login credentials to access our Leave Management System.</p>

<div class="info-box" style="border-left-color: #dc3545; background-color: #f8d7da; color: #721c24;">
    <strong>IMPORTANT - CONFIDENTIAL INFORMATION</strong><br>
    Please keep these credentials secure and do not share them with anyone.
</div>

<table class="details-table">
    <tr>
        <th>Username</th>
        <td><strong>{{ user.username }}</strong></td>
    </tr>
    <tr>
        <th>Temporary Password</th>
        <td><strong style="font-family: monospace; background: #f8f9fa; padding: 5px;">{{ generated_password }}</strong></td>
    </tr>
    <tr>
        <th>Login URL</th>
        <td><a href="{{ login_url }}">{{ login_url }}</a></td>
    </tr>
</table>

<div class="info-box status-pending">
    <strong>Security Notice:</strong><br>
    For security reasons, you must change your password upon your first login. The system will prompt you to create a new, secure password.
</div>

<div class="info-box">
    <strong>Account Details:</strong><br>
    <strong>Employee ID:</strong> {{ user.employee_id|default:"Will be assigned" }}<br>
    <strong>Department:</strong> {{ user.department|default:"Not assigned" }}<br>
    <strong>Role:</strong> {{ user.get_role_display }}<br>
    <strong>Email:</strong> {{ user.email }}
</div>

<a href="{{ login_url }}" class="button">Login to Your Account</a>

<div class="info-box">
    <strong>What to do next:</strong>
    <ol style="margin: 10px 0 0 0;">
        <li>Click the login button above or visit the login URL</li>
        <li>Enter your username and temporary password</li>
        <li>Change your password when prompted</li>
        <li>Complete your profile information</li>
        <li>Start using the leave management system</li>
    </ol>
</div>

<div class="info-box" style="border-left-color: #ffc107; background-color: #fff3cd; color: #856404;">
    <strong>Need Help?</strong><br>
    If you have any trouble logging in or need assistance, please contact HR at {{ company_email }}
</div>

<p>We're excited to have you on our team!</p>
{% endblock %}