{% extends 'emails/base_email.html' %}

{% block title %}Leave Application Submitted Successfully{% endblock %}

{% block header_subtitle %}Application Confirmation{% endblock %}

{% block content %}
<h2>Leave Application Submitted Successfully</h2>

<p>Dear {{ leave.employee.first_name|default:leave.employee.username }},</p>

<p>Your leave application has been successfully submitted and is now under review by our HR team.</p>

<div class="info-box status-pending">
    <strong>Status:</strong> Pending HR Review<br>
    <strong>Application ID:</strong> #{{ leave.id }}<br>
    <strong>Submitted On:</strong> {{ leave.created_at|date:"F d, Y \a\t g:i A" }}
</div>

<table class="details-table">
    <tr>
        <th>Leave Type</th>
        <td>{{ leave.leave_type.name }}</td>
    </tr>
    <tr>
        <th>Start Date</th>
        <td>{{ leave.start_date|date:"F d, Y (l)" }}</td>
    </tr>
    <tr>
        <th>End Date</th>
        <td>{{ leave.end_date|date:"F d, Y (l)" }}</td>
    </tr>
    <tr>
        <th>Total Days</th>
        <td>{{ leave.days_requested }} day{{ leave.days_requested|pluralize }}</td>
    </tr>
    <tr>
        <th>Priority</th>
        <td>{{ leave.get_priority_display }}</td>
    </tr>
    <tr>
        <th>Reason</th>
        <td>{{ leave.reason }}</td>
    </tr>
</table>

<div class="info-box">
    <strong>What happens next?</strong>
    <ol style="margin: 10px 0 0 0; padding-left: 20px;">
        <li>HR team will review your application</li>
        <li>If approved by HR, it will proceed to Admin for final approval</li>
        <li>You'll receive email notifications for all status updates</li>
        <li>The review process typically takes 2-3 business days</li>
    </ol>
</div>

<a href="{{ base_url }}/leaves/{{ leave.id }}/" class="button">View Application Status</a>

<p>You can track your application status anytime by logging into the leave management system. If you have any questions or need to make changes to your application, please contact HR immediately.</p>

<p>Thank you for using our leave management system.</p>
{% endblock %}